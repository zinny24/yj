import React from 'react';
import { BrowserRouter as Router, Route, Link, useLocation } from 'react-router-dom';

const HomePage = () => {
  const location = useLocation();
  const queryParams = new URLSearchParams(location.search);
  const mode = queryParams.get('mode'); // ?mode=hidden

  // mode가 hidden이면 이미지 숨기기
  const isImageHidden = mode === 'hidden';

  return (
    <div>
      <h1>홈페이지</h1>
      <Link to="/next?detail&mode=hidden">다음 페이지로 이동</Link>
      <div>
        {/* 이미지 숨기기 */}
        {!isImageHidden && (
          <img src="path/to/your/main-image.jpg" alt="메인 이미지" />
        )}
      </div>
    </div>
  );
};

const NextPage = () => {
  const location = useLocation();
  const queryParams = new URLSearchParams(location.search);
  const mode = queryParams.get('mode'); // ?mode=hidden

  const isImageHidden = mode === 'hidden';

  return (
    <div>
      <h1>다음 페이지</h1>
      <div>
        {/* 이미지 숨기기 */}
        {!isImageHidden && (
          <img src="path/to/your/main-image.jpg" alt="메인 이미지" />
        )}
      </div>
    </div>
  );
};

const App = () => {
  return (
    <Router>
      <Route path="/" exact component={HomePage} />
      <Route path="/next" component={NextPage} />
    </Router>
  );
};

export default App;
